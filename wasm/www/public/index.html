<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src=" ./script-LATEST.js" type="module"></script>
    <link rel="preload" href="computer-LATEST.wasm" as="fetch" crossorigin />
    <link rel="preload" href="frag-LATEST.glsl" as="fetch" crossorigin />
    <link rel="preload" href="vert-LATEST.glsl" as="fetch" crossorigin />
    <link rel="preload" href="shader-LATEST.wgsl" as="fetch" crossorigin />
    <title>Maze</title>
    <style>
      #filter {
        visibility: hidden;
        position: absolute;
      }

      #svg,
      #webgl2,
      #webgpu,
      #bitmapRenderer {
        width: 20em;
        height: 20em;
        image-rendering: pixelated;
      }

      #svg path {
        stroke: currentColor;
        stroke-width: 0.25;
        stroke-linecap: square;
      }

      .canvas-ready {
        filter: invert(1) url("#applyColours");
      }

      :root {
        color: hsl(30, 100%, 12.5%);
        font-family: sans-serif;
      }

      @media (prefers-color-scheme: dark) {
        :root {
          background-color: black;
          color: hsl(30, 100%, 75%);
        }
      }
    </style>
  </head>

  <body>
    <svg id="filter" xmlns="http://www.w3.org/2000/svg">
      <filter id="applyColours">
        <feFlood flood-color="currentColor" result="floodFill" />
        <feColorMatrix
          in="SourceGraphic"
          type="matrix"
          result="matrix"
          values="0 0 0 0 0
                0 0 0 0 0
                0 0 0 0 0
                1 0 0 0 0"
        />
        <feComposite in="floodFill" in2="matrix" operator="in" />
      </filter>
    </svg>
    <h1>Maze rendering playground</h1>
    <noscript
      >This page contains webassembly and javascript content, please enable
      javascript in your browser.</noscript
    >
    <h2>SVG</h2>
    <svg id="svg" xmlns="http://www.w3.org/2000/svg"></svg>
    <h2>Canvas bitmaprenderer context</h2>
    <canvas id="bitmapRenderer"></canvas>
    <h2>Canvas webgl2 context</h2>
    <canvas id="webgl2"></canvas>
    <h2>Canvas webgpu context</h2>
    <canvas id="webgpu"></canvas>
  </body>
</html>
